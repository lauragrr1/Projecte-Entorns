-- Creació de taula USUARI
CREATE TABLE Usuari (
    id_usuari INT AUTO_INCREMENT PRIMARY KEY,
    nom_complet VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    contrasenya VARCHAR(255) NOT NULL,
    telefon VARCHAR(15),
    rol ENUM('Administrador', 'Adoptant') DEFAULT 'Adoptant'
);

-- Creació de taula CENTRE_ACOLLIDA
CREATE TABLE Centre_Acollida (
    id_centre INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    adreça VARCHAR(150)
);

-- Creació de taula GAT
CREATE TABLE Gat (
    id_gat INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    edat INT,
    raça VARCHAR(50),
    sexe ENUM('Mascle', 'Femella'),
    esterilitzat BOOLEAN,
    adoptat BOOLEAN DEFAULT FALSE,
    data_arribada DATE,
    id_centre INT,
    FOREIGN KEY (id_centre) REFERENCES Centre_Acollida(id_centre)
);

-- Creació de taula ADOPCIO
CREATE TABLE Adopcio (
    id_adopcio INT AUTO_INCREMENT PRIMARY KEY,
    id_usuari INT NOT NULL,
    id_gat INT NOT NULL UNIQUE, -- cada gat només pot ser adoptat una vegada
    data_adopcio DATE,
    estat ENUM('Pendent', 'Confirmada', 'Cancel·lada') DEFAULT 'Pendent',
    comentaris TEXT,
    FOREIGN KEY (id_usuari) REFERENCES Usuari(id_usuari),
    FOREIGN KEY (id_gat) REFERENCES Gat(id_gat)
);
